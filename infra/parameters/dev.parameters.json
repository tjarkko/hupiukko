{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "environment": {
      "value": "dev"
    },
    "appServicePlanName": {
      "value": "hupiukko-appserviceplan-dev"
    },
    "frontendAppServiceName": {
      "value": "hupiukko-frontend-appservice-dev"
    },
    "backendAppServiceName": {
      "value": "hupiukko-backend-appservice-dev"
    },
    "keyVaultName": {
      "value": "hupiukko-kv-dev"
    },
    "keyVaultUri": {
      "value": "https://hupiukko-kv-dev.vault.azure.net/"
    },
    "NEXT_PUBLIC_API_URL": {
      "value": "https://your-backend-api-url"
    },
    "NEXTAUTH_URL": {
      "value": "https://hupiukko-frontend-appservice-dev.azurewebsites.net/"
    },
    "AZURE_AD_CLIENT_ID": {
      "value": "08716fe7-db8b-45ad-b905-7ce1b2fe0c35"
    },
    "AZURE_AD_TENANT_ID": {
      "value": "287fc32d-9911-40b2-a2c2-a6419fd5e4c9"
    },
    "frontendIdentityResourceIds": {
      "value": [
        "/subscriptions/6d0f08b9-372a-47a8-a09b-59a90271cbe0/resourcegroups/hupiukko-dev-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/hupiukko-frontend-identity"
      ]
    },
    "backendIdentityResourceIds": {
      "value": [
        "/subscriptions/6d0f08b9-372a-47a8-a09b-59a90271cbe0/resourcegroups/hupiukko-dev-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/hupiukko-backend-identity"
      ]
    },
    "managedIdentities": {
      "value": [
        {
          "name": "hupiukko-frontend-identity",
          "rbacAssignments": [
            {
              "roleDefinitionIdOrName": "4633458b-17de-408a-b874-0445c86b69e6",
              "roleName": "Key Vault Secrets User",
              "description": "Frontend can read secrets"
            }
          ]
        },
        {
          "name": "hupiukko-backend-identity",
          "rbacAssignments": [
            {
              "roleDefinitionIdOrName": "4633458b-17de-408a-b874-0445c86b69e6",
              "roleName": "Key Vault Secrets User",
              "description": "Backend can read secrets"
            }
          ]
        },
        {
          "name": "hupiukko-sql-identity",
          "rbacAssignments": [
            {
              "roleDefinitionIdOrName": "b86a8fe4-44ce-4948-aee5-eccb2c155cd7",
              "roleName": "Key Vault Secrets Officer",
              "description": "SQL identity can write secrets to Key Vault"
            }
          ]
        }
      ]
    },
    "backendAppServiceAzureAd": {
      "value": {
        "AzureAd__Instance": "https://login.microsoftonline.com/",
        "AzureAd__Domain": "jarkkotuorilagmail.onmicrosoft.com",
        "AzureAd__TenantId": "287fc32d-9911-40b2-a2c2-a6419fd5e4c9",
        "AzureAd__ClientId": "cbc42c1f-4aa7-4bec-b803-2a9efb0211e0",
        "AzureAd__Audience": "api://cbc42c1f-4aa7-4bec-b803-2a9efb0211e0",
        "AzureAd__SwaggerClientId": "08716fe7-db8b-45ad-b905-7ce1b2fe0c35"
      }
    },
    "keyVaultResourceId": {
      "value": "/subscriptions/6d0f08b9-372a-47a8-a09b-59a90271cbe0/resourceGroups/hupiukko-dev-rg/providers/Microsoft.KeyVault/vaults/hupiukko-kv-dev"
    },
    "sqlIdentityResourceId": {
      "value": "/subscriptions/6d0f08b9-372a-47a8-a09b-59a90271cbe0/resourceGroups/hupiukko-dev-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/hupiukko-sql-identity"
    },
    "sqlServerName": {
      "value": "hupiukko-sql-dev"
    },
    "sqlDbName": {
      "value": "hupiukko-db-dev"
    }
  }
}